<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/">
    <sitecore>
        <pipelines>
            <initialize>
                <!-- Register the MVC routes for our new Checkout controller -->
                <processor type="ActiveCommerce.Training.Payment.Mvc.RegisterRoutesInitializeProcessor, ActiveCommerce.Training.Payment" />
            </initialize>

            <group groupName="activecommerce.orderprocessing">
                <pipelines>
                    <acCompleteOrderProcessing>
                        <processor type="ActiveCommerce.Orders.Pipelines.CompleteOrderProcessing.VerifyPayment, ActiveCommerce.Kernel"
                                   set:type="ActiveCommerce.Training.Payment.OrderProcessing.VerifyPayment, ActiveCommerce.Training.Payment" />
                    </acCompleteOrderProcessing>
                </pipelines>
            </group>
        </pipelines>
        
        <activecommerce>
            <!-- Patch in additional assemblies which contain classes that will be utilized with Glass Mapper -->
            <glassConfiguration type="ActiveCommerce.Glass.Configuration, ActiveCommerce.Kernel">
                <assemblies hint="list">
                    <assembly id="payment">ActiveCommerce.Training.Payment</assembly>
                </assemblies>
            </glassConfiguration>
        </activecommerce>
    </sitecore>
</configuration>